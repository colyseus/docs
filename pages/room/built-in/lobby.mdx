---
title: "Lobby Room"
---
import { Callout, Steps, Cards, Tabs } from "nextra/components";

# Lobby Room

The built-in `LobbyRoom` provides a live listing of available rooms in your game server.

**Features:**
- Live listing for rooms with `enableRealtimeListing()`.
- Automatic updates when rooms are created, joined, left, or disposed.
- Filter support by `name` and `metadata`.

<Callout type="info">
  The source-code for `LobbyRoom` is available [here](https://github.com/colyseus/colyseus/blob/master/packages/core/src/rooms/LobbyRoom.ts). You can extend it for custom listing behavior.
</Callout>

## Server

<Steps>
### Expose the lobby room

```ts filename="server.ts"
import { defineServer, defineRoom, LobbyRoom } from "colyseus";

const server = defineServer({
  rooms: {
    lobby: defineRoom(LobbyRoom)
  }
})
```

### Enable _realtime listing_ on your game room

When _realtime listing_ is enabled, the `LobbyRoom` is notified automatically during `onCreate()`, `onJoin()`, `onLeave()` and `onDispose()`.

```ts {4} filename="server.ts"
const server = defineServer({
  rooms: {
    my_room: defineRoom(MyRoom).enableRealtimeListing()
  }
})
```
</Steps>

## Client

The `LobbyRoom` will send messages to the client whenever a room is added, removed or updated.

```ts {8,12,22} filename="client.ts"
import { Client, RoomAvailable } from "@colyseus/sdk";

const client = new Client("http://localhost:2567");
const lobby = await client.joinOrCreate("lobby");

let allRooms: RoomAvailable[] = [];

lobby.onMessage("rooms", (rooms) => {
  allRooms = rooms;
});

lobby.onMessage("+", ([roomId, room]) => {
  const roomIndex = allRooms.findIndex((room) => room.roomId === roomId);
  if (roomIndex !== -1) {
    allRooms[roomIndex] = room;

  } else {
    allRooms.push(room);
  }
});

lobby.onMessage("-", (roomId) => {
  allRooms = allRooms.filter((room) => room.roomId !== roomId);
});
```

### Filtering rooms

Filtering rooms by `name` or `metadata` can be done by providing the `filter` option when joining the lobby:

```ts {2-7} filename="client.ts"
const lobby = await client.joinOrCreate("lobby", {
  filter: {
    name: "my_room",
    metadata: {
      gameMode: "deathmatch",
    }
  }
});
```

Alternatively, you can also dynamically change the filter by sending a `"filter"` message to the lobby room:

```ts
lobby.send("filter", {
  name: "my_room",
  metadata: {
    gameMode: "deathmatch",
  }
});
```
